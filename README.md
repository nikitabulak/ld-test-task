# Запуск:
Требуются Maven и Java версией не ниже 11.
В корневом каталоге проекта выполнить команды:
```
mvn package
```
```
java -jar target/ld-test-task.jar --spring.profiles.active=default --logging.file.name=./log/ld.log --spring.datasource.url=jdbc:postgresql://localhost:5432/ld --spring.datasource.username=postgres --spring.datasource.password= --app.dadata.apikey=b0f5d26247ba1f1f25f30af82cb9f6557a14efaf --app.dadata.secretkey=dbe9b69ade73976009718120af0ac4cffee3f422
```
Параметры запуска jar приведены в качестве примера.
При запуске необходимо указать следующие параметры:
- --logging.file.name - путь расположения для файлов логов
- --spring.datasource.url - URL базы данных Postgres
- --spring.datasource.username - логин базы данных Postgres
- --spring.datasource.password - пароль базы данных Postgres
- --app.dadata.apikey - API-ключ для сервиса Dadata (можно получить в личном кабинете сервиса)
- --app.dadata.secretkey - секретный ключ для сервиса Dadata (можно получить в личном кабинете сервиса)

# Описание задачи
Спроектировать и разработать систему регистрации и обработки пользовательских
заявок:
- Спроектировать и разработать back-приложение
- Спроектировать и разработать Базу данных

## Функции приложения
- Создать заявку (Заявка помимо прочих системных полей состоит из статуса и
текстового обращения пользователя, номера телефона, имени)
- Отправить заявку оператору на рассмотрение
- Просмотреть список заявок с возможностью сортировки по дате создания в оба
направления (как от самой старой к самой новой, так и наоборот) и пагинацией
по 5 элементов, фильтрация по статусу
- Посмотреть заявку
- Принять заявку
- Отклонить заявку
- Просмотреть список пользователей
- Назначить права оператора

### В системе предусмотрены 3 роли:
- Пользователь
- Оператор
- Администратор

У пользователя системы может быть одновременно несколько ролей, например,
«Оператор» и «Администратор».

### У заявки пользователя предусмотрено 4 статуса:
- черновик
- отправлено
- принято
- отклонено
## Пользователь может
- логиниться в систему (выдача jwt и access токенов)
- выходить из системы /logout
- создавать заявки
- создавать черновики
- просматривать созданные им заявки с возможностью сортировки по дате
создания в оба направления (как от самой старой к самой новой, так и наоборот)
и пагинацией по 5 элементов
- редактировать созданные им заявки в статусе «черновик»
- отправлять заявки на рассмотрение оператору
## Пользователь НЕ может:
- редактировать отправленные на рассмотрение заявки
- видеть заявки других пользователей
- принимать заявки
- отклонять заявки
- назначать права
- смотреть список пользователей
## Оператор может
- логиниться в систему (выдача jwt и access токенов)
- выходить из системы /logout
- смотреть все отправленные на рассмотрение заявки с возможностью
сортировки по дате создания в оба направления (как от самой старой к самой
новой, так и наоборот) и пагинацией по 5 элементов. Должна быть фильтрация по имени.
- Просматривать отправленные заявки только конкретного пользователя по его
имени/части имени (у пользователя должно быть поле name)
- смотреть заявку по id
- принимать заявки
- отклонять заявки
## Оператор НЕ может
- создавать заявки
- просматривать заявки в статусе отличном от «отправлено»
- редактировать заявки
- назначать права
## Администратор может
- логиниться в систему (выдача jwt и access токенов)
- выходить из системы /logout
- смотреть список пользователей
- смотреть заявки в статусе отправлено, принято, отклонено. Пагинация 5 элементов,
сортировка по дате. Фильтрация по имени.
- назначать пользователям права оператора
## Администратор НЕ может
- создавать заявки
- редактировать заявки
- принимать заявки
- отклонять заявки
# Технические требования к приложению
- Java 11 или 17
- Использовать архитектуру REST
- Использовать Spring Boot
- Использовать Spring Security
- Использовать JPA
- Использовать реляционную БД (PostgreSQL, MariaDB)
- Миграцию осуществлять с помощью Liquibase или Flyway
- Создание пользователей и ролей не предусмотрено в этой системе.
Подразумевается, что данные об учетных записях пользователей и роли уже есть в
БД
- Приложение должно запускаться без каких-либо ошибок
# Плюсом будет:
### Проводить проверку номер телефона через сервис Dadata 
- Отправлять запрос через Spring Cloud Open Feign
- Cохранять данные в формате: код страны, код города, номер телефона который придет в ответе
- Номер телефона должен быть мобильный


